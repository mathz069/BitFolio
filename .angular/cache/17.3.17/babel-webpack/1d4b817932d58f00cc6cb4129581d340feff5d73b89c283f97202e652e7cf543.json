{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/empresa.service\";\nfunction EmpresaModalComponent_form_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 4);\n    i0.ɵɵlistener(\"keydown.enter\", function EmpresaModalComponent_form_3_Template_form_keydown_enter_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.nextStep());\n    });\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵtext(2, \"Nome\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵelement(4, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"label\");\n    i0.ɵɵtext(6, \"CNPJ\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 5);\n    i0.ɵɵelement(8, \"input\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"label\");\n    i0.ɵɵtext(10, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 5);\n    i0.ɵɵelement(12, \"input\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"label\");\n    i0.ɵɵtext(14, \"Descri\\u00E7\\u00E3o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 5);\n    i0.ɵɵelement(16, \"textarea\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"br\");\n    i0.ɵɵelementStart(18, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function EmpresaModalComponent_form_3_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.nextStep());\n    });\n    i0.ɵɵtext(19, \"Pr\\u00F3ximo\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.empresaForm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"border\", ctx_r1.setBorder(\"nome\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"border\", ctx_r1.setBorder(\"cnpj\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"border\", ctx_r1.setBorder(\"email\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"border\", ctx_r1.setBorder(\"descricao\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.empresaForm.invalid);\n  }\n}\nfunction EmpresaModalComponent_form_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 4);\n    i0.ɵɵlistener(\"keydown.enter\", function EmpresaModalComponent_form_6_Template_form_keydown_enter_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.submit());\n    });\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵtext(2, \"Rua\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵelement(4, \"input\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"label\");\n    i0.ɵɵtext(6, \"N\\u00FAmero\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 5);\n    i0.ɵɵelement(8, \"input\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"label\");\n    i0.ɵɵtext(10, \"Complemento\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 5);\n    i0.ɵɵelement(12, \"input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"label\");\n    i0.ɵɵtext(14, \"Bairro\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 5);\n    i0.ɵɵelement(16, \"input\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"label\");\n    i0.ɵɵtext(18, \"Cidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 5);\n    i0.ɵɵelement(20, \"input\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"label\");\n    i0.ɵɵtext(22, \"Estado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 5);\n    i0.ɵɵelement(24, \"input\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"label\");\n    i0.ɵɵtext(26, \"CEP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 5);\n    i0.ɵɵelement(28, \"input\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(29, \"br\");\n    i0.ɵɵelementStart(30, \"button\", 18);\n    i0.ɵɵtext(31, \"Cadastrar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.enderecoForm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"border\", ctx_r1.setBorder(\"rua\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"border\", ctx_r1.setBorder(\"numero\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"border\", ctx_r1.setBorder(\"complemento\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"border\", ctx_r1.setBorder(\"bairro\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"border\", ctx_r1.setBorder(\"cidade\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"border\", ctx_r1.setBorder(\"estado\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"border\", ctx_r1.setBorder(\"cep\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.enderecoForm.invalid);\n  }\n}\nexport let EmpresaModalComponent = /*#__PURE__*/(() => {\n  class EmpresaModalComponent {\n    constructor(fb, empresaService) {\n      this.fb = fb;\n      this.empresaService = empresaService;\n      this.step = 1;\n      this.isSubmitting = false;\n      this.empresaCriada = new EventEmitter();\n      this.closeModal = new EventEmitter();\n      this.empresaForm = this.fb.group({\n        nome: ['', Validators.required],\n        cnpj: ['', [Validators.required, Validators.minLength(14)]],\n        // ajuste validação\n        email: ['', [Validators.required, Validators.email]],\n        descricao: ['']\n      });\n      this.enderecoForm = this.fb.group({\n        rua: ['', Validators.required],\n        numero: ['', Validators.required],\n        complemento: [''],\n        bairro: ['', Validators.required],\n        cidade: ['', Validators.required],\n        estado: ['', Validators.required],\n        cep: ['', [Validators.required, Validators.minLength(8)]]\n      });\n    }\n    ngOnInit() {\n      throw new Error('Method not implemented.');\n    }\n    setBorder(controlName) {\n      const currentForm = this.step === 1 ? this.empresaForm : this.enderecoForm;\n      const control = currentForm.get(controlName);\n      return control && control.invalid && control.touched ? '1px solid red' : '1px solid #ccc';\n    }\n    nextStep() {\n      if (this.empresaForm.valid) {\n        this.step = 2;\n      } else {\n        this.empresaForm.markAllAsTouched();\n      }\n    }\n    previousStep() {\n      this.step = 1;\n    }\n    submit() {\n      if (this.enderecoForm.invalid) {\n        this.enderecoForm.markAllAsTouched();\n        return;\n      }\n      this.isSubmitting = true;\n      this.empresaService.createEndereco(this.enderecoForm.value).subscribe({\n        next: enderecoResponse => {\n          const empresaData = {\n            ...this.empresaForm.value,\n            enderecoId: enderecoResponse.id\n          };\n          this.empresaService.createEmpresa(empresaData).subscribe({\n            next: empresaResponse => {\n              this.isSubmitting = false;\n              this.empresaCriada.emit(empresaResponse);\n              this.close();\n            },\n            error: err => {\n              this.isSubmitting = false;\n              console.error('Erro ao criar empresa:', err);\n            }\n          });\n        },\n        error: err => {\n          this.isSubmitting = false;\n          console.error('Erro ao criar endereço:', err);\n        }\n      });\n    }\n    close() {}\n    static {\n      this.ɵfac = function EmpresaModalComponent_Factory(t) {\n        return new (t || EmpresaModalComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.EmpresaService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: EmpresaModalComponent,\n        selectors: [[\"app-empresa-modal\"]],\n        outputs: {\n          empresaCriada: \"empresaCriada\",\n          closeModal: \"closeModal\"\n        },\n        decls: 9,\n        vars: 2,\n        consts: [[1, \"bodydiv\", \"modal-container\"], [1, \"login-title\"], [3, \"formGroup\", \"keydown.enter\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"custom-btn-back\", 3, \"click\"], [3, \"keydown.enter\", \"formGroup\"], [1, \"email-input\"], [\"type\", \"text\", \"formControlName\", \"nome\", \"required\", \"\"], [\"type\", \"text\", \"formControlName\", \"cnpj\", \"mask\", \"00.000.000/0000-00\", \"required\", \"\"], [\"type\", \"email\", \"formControlName\", \"email\", \"required\", \"\"], [\"formControlName\", \"descricao\", \"rows\", \"3\"], [\"type\", \"button\", 1, \"custom-text-size14\", \"login-submit\", 3, \"click\", \"disabled\"], [\"type\", \"text\", \"formControlName\", \"rua\", \"required\", \"\"], [\"type\", \"text\", \"formControlName\", \"numero\", \"required\", \"\"], [\"type\", \"text\", \"formControlName\", \"complemento\"], [\"type\", \"text\", \"formControlName\", \"bairro\", \"required\", \"\"], [\"type\", \"text\", \"formControlName\", \"cidade\", \"required\", \"\"], [\"type\", \"text\", \"formControlName\", \"estado\", \"required\", \"\"], [\"type\", \"text\", \"formControlName\", \"cep\", \"mask\", \"00000-000\", \"required\", \"\"], [\"type\", \"submit\", 1, \"custom-text-size14\", \"login-submit\", 3, \"disabled\"]],\n        template: function EmpresaModalComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"span\", 1);\n            i0.ɵɵtext(2, \"Cadastro de Empresa\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(3, EmpresaModalComponent_form_3_Template, 20, 10, \"form\", 2);\n            i0.ɵɵelementStart(4, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function EmpresaModalComponent_Template_button_click_4_listener() {\n              return ctx.previousStep();\n            });\n            i0.ɵɵtext(5, \"Voltar\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(6, EmpresaModalComponent_form_6_Template, 32, 16, \"form\", 2);\n            i0.ɵɵelementStart(7, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function EmpresaModalComponent_Template_button_click_7_listener() {\n              return ctx.close();\n            });\n            i0.ɵɵtext(8, \"Cancelar\");\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.step === 1);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.step === 2);\n          }\n        },\n        styles: [\".custom-modal-container[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:30px;background-color:#fff;border-radius:10px;box-shadow:0 4px 16px #0003;font-family:Segoe UI,Arial,sans-serif}  .mat-dialog-container{display:flex;justify-content:center;align-items:center;padding:0!important;border-radius:10px;box-shadow:none;background:transparent}.modal-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#171725;margin-bottom:15px}.modal-body[_ngcontent-%COMP%]{font-size:14px;color:#707070}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.login-title[_ngcontent-%COMP%]{font-family:Segoe UI,Arial,sans-serif;font-size:2em;font-weight:400;color:#171725;position:relative;margin-top:30%;font-weight:500}.email-input[_ngcontent-%COMP%]{font-family:Segoe UI,Arial,sans-serif;font-size:14px;font-weight:400;width:90%;margin-left:2%}.disabled[_ngcontent-%COMP%]{opacity:.7}.input[_ngcontent-%COMP%]{border-radius:3px;padding:7px;background-color:#f0f0f0;width:98%}.active-button[_ngcontent-%COMP%]{font-weight:700;border-bottom:2px solid var(--primary-color)}label[_ngcontent-%COMP%]{font-family:Segoe UI,Arial,sans-serif;font-size:14px;font-weight:500;margin-bottom:-5%;margin-left:2%}.user-selector[_ngcontent-%COMP%]{display:flex;gap:2%;width:98%;margin:10px 0 20px 1%}.user-button[_ngcontent-%COMP%]{font-family:Segoe UI,Arial,sans-serif;font-size:14px;font-weight:500;border:1px solid transparent;padding:8px 0;border-radius:5px;background-color:#f0f0f0;cursor:pointer;flex:1;text-align:center;transition:all .3s ease;height:38px}.user-button[_ngcontent-%COMP%]:hover{opacity:.85}.funcionario-btn.active-button[_ngcontent-%COMP%]{background-color:#bc4371;color:#fff;border:1px solid #bc4371}.candidato-btn.active-button[_ngcontent-%COMP%]{background-color:#044894;color:#fff;border:1px solid #044894}.administrador-btn.active-button[_ngcontent-%COMP%]{background-color:#940404;color:#fff;border:1px solid #940404}.input2[_ngcontent-%COMP%]{border-radius:5px;padding:4px;background-color:#fafafb;width:98%;height:32px;text-align:center;margin-bottom:3%;margin-left:-3%}.escolha[_ngcontent-%COMP%]{background-color:transparent;float:right;margin-right:5%}.email[_ngcontent-%COMP%]{margin-bottom:3%}.password-input[_ngcontent-%COMP%]{font-family:Segoe UI,Arial,sans-serif;font-size:14px;font-weight:400;width:80%;float:left;margin-left:2%}input[_ngcontent-%COMP%]{border:none;height:25px;background-color:transparent;outline:none;font-family:Segoe UI,Arial,sans-serif}.forgot-password[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:flex-end;margin-bottom:20px;margin-top:20px;margin-right:10px}.span-link[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500;cursor:pointer;outline:none;font-family:Segoe UI,Arial,sans-serif}.span-link1[_ngcontent-%COMP%]{color:#9b9b9b;font-weight:400;outline:none;font-family:Segoe UI,Arial,sans-serif}.login-submit[_ngcontent-%COMP%]{background-color:var(--primary-color);border:1px solid var(--primary-color);border-radius:3px;width:100%;color:#fff;height:45px;margin-bottom:8%;font-family:Segoe UI,Arial,sans-serif;font-weight:500;font-size:15px}.show-password[_ngcontent-%COMP%]{border:none;background-color:transparent;margin-left:5%}.eye-icon[_ngcontent-%COMP%]{width:20px;opacity:.8}button[_ngcontent-%COMP%]{outline:none;cursor:pointer}.line[_ngcontent-%COMP%]{height:1px;width:100%;background-color:#d8d8d8;margin-bottom:20px}.bodydiv[_ngcontent-%COMP%]{margin-top:20%}.funcionario[_ngcontent-%COMP%]{--primary-color: #bc4371}.candidato[_ngcontent-%COMP%]{--primary-color: #044894}.administrador[_ngcontent-%COMP%]{--primary-color: #940404}\"]\n      });\n    }\n  }\n  return EmpresaModalComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}