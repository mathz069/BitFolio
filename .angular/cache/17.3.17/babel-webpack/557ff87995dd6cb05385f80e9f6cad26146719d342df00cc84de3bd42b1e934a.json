{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ContaComponent = class ContaComponent {\n  constructor(fb, candidatoService, authService, router) {\n    this.fb = fb;\n    this.candidatoService = candidatoService;\n    this.authService = authService;\n    this.router = router;\n    this.editando = false;\n  }\n  ngOnInit() {\n    this.form = this.fb.group({\n      nome: [''],\n      email: [''],\n      dataNascimento: [''],\n      telefone: [''],\n      curriculo: ['']\n    });\n    this.toggleFormState();\n    const id = this.authService.obterUsuarioId();\n    if (id !== null) {\n      this.candidatoId = id;\n      this.carregarCandidato();\n    } else {\n      console.error('ID do candidato não encontrado no token.');\n    }\n  }\n  toggleEdicao() {\n    this.editando = !this.editando;\n    this.toggleFormState();\n    if (!this.editando) {}\n  }\n  carregarCandidato() {\n    this.candidatoService.getCandidatoById(this.candidatoId).subscribe({\n      next: candidato => {\n        this.form.patchValue({\n          nome: candidato.nome,\n          email: candidato.email,\n          dataNascimento: candidato.dtNascimento,\n          telefone: candidato.telefone,\n          curriculo: candidato.curriculo ?? ''\n        });\n      },\n      error: err => {\n        console.error('Erro ao buscar candidato:', err);\n      }\n    });\n  }\n  deletarCandidato() {\n    if (confirm('Tem certeza que deseja deletar sua conta? Esta ação não pode ser desfeita.')) {\n      this.candidatoService.deleteCandidato(this.candidatoId).subscribe({\n        next: () => {\n          alert('Conta deletada com sucesso.');\n          this.router.navigate(['/login']);\n        },\n        error: err => {\n          console.error('Erro ao deletar conta:', err);\n          alert('Erro ao deletar a conta.');\n        }\n      });\n    }\n  }\n  toggleFormState() {\n    if (this.editando) {\n      this.form.enable();\n    } else {\n      this.form.disable();\n    }\n  }\n};\nContaComponent = __decorate([Component({\n  selector: 'app-conta',\n  templateUrl: './conta.component.html',\n  styleUrls: ['./conta.component.css']\n})], ContaComponent);\nexport { ContaComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}